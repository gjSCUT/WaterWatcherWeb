ï»?


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <style>.qmbox .qmbox .slider div p {
        color: #1c1c1c;
        position: absolute;
        bottom: -55px;
        font-family: Raleway;
        font-size: 16px;}
.qmbox .qmbox .slider {
        -webkit-animation: animation ease 1s;
        animation-delay: .8s;
        animation-fill-mode: backwards;
        margin: 0 auto;
        height: 360px;
        width: 240px;
        padding: 40px;
        top: 100px;
        perspective: 1000px;
        transition: ease-in-out .2s;
}
.qmbox .qmbox .slide img {
        text-align: center;
        width: 100%;
        height: 100%;
        -webkit-user-drag: none;
        user-drag: none;
        -moz-user-drag: none;
        border-radius: 2px;
}
.qmbox .qmbox .slide {
        -webkit-user-select: none;
        user-select: none;
        -moz-user-select: none;
        position: absolute;
        height: 280px;
        width: 240px;
        box-shadow: 0px 10px 30px 0px rgba(0, 0, 0, 0.3);
        background: #fcfcfc;
        -webkit-transform-style: preserve-3d;
        transform-style: preserve-3d;
        -moz-transform-style: preserve-3d;
        text-align: center;
        
        border: 12px white solid;
        box-sizing: border-box;
        border-bottom: 55px white solid;
        border-radius: 5px;
}
.qmbox .qmbox .transition {
        -webkit-transition: cubic-bezier(0, 1.95, .49, .73) .4s;
        -moz-transition: cubic-bezier(0, 1.95, .49, .73) .4s;
        transition: cubic-bezier(0, 1.95, .49, .73) .4s;
}
</style>


    <div data-role="page">

        <div data-role="header" data-theme="b">
            <h1>æ°´å‚è¿ç»´æ£€æµ‹å¹³å?</h1>
        </div>

        <div data-role="main" class="ui-content">
            
            <div class="htmleaf-container">
                <div class="htmleaf-content">
                    <div class="slider">
                        <div class="slide">
                            <img  />
                            <p>å›¾ç‰‡ä¸€</p>
                        </div>
                        <div class="slide">
                            <img  />
                            <p>å›¾ç‰‡äº?</p>
                        </div>
                        <div class="slide">
                            <img  />
                            <p>å›¾ç‰‡ä¸?</p>
                        </div>
                        <div class="slide">
                            <img  />
                            <p>å›¾ç‰‡å›?</p>
                        </div>
                    </div>
                </div>
                <div style="text-align:center;clear:both">
                </div>
            </div>
            
        </div>

        <div data-role="footer" data-position="fixed" data-fullscreen="true">
            <div data-role="navbar">
                <ul>
                    <li><a href="#login" data-rel="popup" data-position-to="window" data-role="button" class="ui-btn ui-icon-bullets ui-btn-icon-left " data-transition="flow">ç™»é™†</a></li>
                        
                    <li><a href="#register" data-rel="popup" data-position-to="window" data-role="button" class="ui-btn ui-icon-bullets ui-btn-icon-left " data-transition="flow">æ³¨å†Œ</a></li>
                    
                </ul>
            </div>
        </div>
        <div data-role="popup" id="login" data-theme="a">
            <form>   
                <h3>ç™»å½•</h3>
                <label for="login_usr" class="ui-hidden-accessible">ç”¨æˆ·å?:</label>
                <input type="text" name="login_usr" id="login_usr" placeholder="ç”¨æˆ·å?"  />
                <label for="login_pw" class="ui-hidden-accessible">å¯†ç :</label>
                <input type="password" name="login_pw" id="login_pw" placeholder="å¯†ç "  />
                <a data-role="button" data-theme="b">ç™»é™†</a>
            </form>
        </div>
        <div data-role="popup" id="register" data-theme="a">
            <form>
                <h3>æ³¨å†Œ</h3>
                <label for="register_usr" class="ui-hidden-accessible">ç”¨æˆ·å?:</label>
                <input type="text" name="register_usr" id="register_usr" placeholder="ç”¨æˆ·å?"  />
                <label for="register_pw" class="ui-hidden-accessible">å¯†ç :</label>
                <input type="password" name="register_pw" id="register_pw" placeholder="å¯†ç "  />
                <label for="register_rpw" class="ui-hidden-accessible">å†æ¬¡ç¡®è®¤:</label>
                <input type="password" name="register_rpw" id="register_rpw" placeholder="å†æ¬¡ç¡®è®¤"  />
                <a data-role="button" data-theme="b">æ³¨å†Œ</a>
            </form>
        </div>
        <div style="padding:10px 20px;">
        <h1>header</h1>
        <p>è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹è¿™æ˜¯å†…å®¹</p>
        </div>
    </div>


       if (username == '') {
            alert("è¯·è¾“å…¥ç”¨æˆ·åï¼?");
            flag = false;
        } else if (password == '') {
            alert("è¯·è¾“å…¥å¯†ç ï¼");
            flag = false;
        }
        return flag;
    }
    function doRegister() {
        var username = $('input[name=register_usr]').val();
        var password = $('input[name=register_pw]').val();
        var repassword = $('input[name=register_rpw]').val();
        if (!registervalidate(username, password, repassword)) {
            return false;
        }
        $.ajax({
            url: serviceUrl + '/user',
            dataType: 'JSON',
            type: 'POST',
            data: {
                username: username,
                password: password
            },
            success: function (data) {
                alert('æ³¨å†ŒæˆåŠŸï¼æ‚¨çš„ç”¨æˆ·åï¼?' + data.username);
                window.location.href = 'General.html';
            },
            error: function () {
                alert('æ­¤ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥ï¼');
                return false;
            }
        })
    }
    function registervalidate(username, password, repassword) {
        var flag = true;
        if (username == '') {
            alert("è¯·è¾“å…¥ç”¨æˆ·åï¼?");
            flag = false;
        } else if (password == '') {
            alert("è¯·è¾“å…¥å¯†ç ï¼");
            flag = false;
        } else if (repassword == '') {
            alert("è¯·ç¡®è®¤å¯†ç ï¼");
            flag = false;
        } else if (password != repassword) {
            alert("ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´ï¼Œè¯·ç¡®è®¤ï¼");
            flag = false;
        }
        return flag;
    }
    window.addEventListener('load', onWndLoad, false);
    function onWndLoad() {
        var slider = document.querySelector('.slider');
        var sliders = slider.children;
        var initX = null;
        var transX = 0;
        var rotZ = 0;
        var transY = 0;
        var curSlide = null;
        var Z_DIS = 50;
        var Y_DIS = 10;
        var TRANS_DUR = 0.4;
        var images = document.querySelectorAll('img');
        for (var i = 0; i &lt; images.length; i++) {
            if (window.CP.shouldStopExecution(1)) {
                break;
            }
            images[i].onmousemove = function (e) {
                e.preventDefault();
            };
            images[i].ondragstart = function (e) {
                return false;
            };
        }
        window.CP.exitedLoop(1);
        function init() {
            var z = 0, y = 0;
            for (var i = sliders.length - 1; i &gt;= 0; i--) {
                if (window.CP.shouldStopExecution(2)) {
                    break;
                }
                sliders[i].style.transform = 'translateZ(' + z + 'px) translateY(' + y + 'px)';
                z -= Z_DIS;
                y += Y_DIS;
            }
            window.CP.exitedLoop(2);
            attachEvents(sliders[sliders.length - 1]);
        }

        function attachEvents(elem) {
            curSlide = elem;
            curSlide.addEventListener('mousedown', slideMouseDown, false);
            curSlide.addEventListener('touchstart', slideMouseDown, false);
        }

        init();
        function slideMouseDown(e) {
            if (e.touches) {
                initX = e.touches[0].clientX;
            } else {
                initX = e.pageX;
            }
            document.addEventListener('mousemove', slideMouseMove, false);
            document.addEventListener('touchmove', slideMouseMove, false);
            document.addEventListener('mouseup', slideMouseUp, false);
            document.addEventListener('touchend', slideMouseUp, false);
        }

        var prevSlide = null;

        function slideMouseMove(e) {
            var mouseX;
            if (e.touches) {
                mouseX = e.touches[0].clientX;
            } else {
                mouseX = e.pageX;
            }
            transX += mouseX - initX;
            rotZ = transX / 20;
            transY = -Math.abs(transX / 15);
            curSlide.style.transition = 'none';
            curSlide.style.webkitTransform = 'translateX(' + transX + 'px)' + ' rotateZ(' + rotZ + 'deg)' + ' translateY(' + transY + 'px)';
            curSlide.style.transform = 'translateX(' + transX + 'px)' + ' rotateZ(' + rotZ + 'deg)' + ' translateY(' + transY + 'px)';
            var j = 1;
            for (var i = sliders.length - 2; i &gt;= 0; i--) {
                if (window.CP.shouldStopExecution(3)) {
                    break;
                }
                sliders[i].style.webkitTransform = 'translateX(' + transX / (2 * j) + 'px)' + ' rotateZ(' + rotZ / (2 * j) + 'deg)' + ' translateY(' + Y_DIS * j + 'px)' + ' translateZ(' + -Z_DIS * j + 'px)';
                sliders[i].style.transform = 'translateX(' + transX / (2 * j) + 'px)' + ' rotateZ(' + rotZ / (2 * j) + 'deg)' + ' translateY(' + Y_DIS * j + 'px)' + ' translateZ(' + -Z_DIS * j + 'px)';
                sliders[i].style.transition = 'none';
                j++;
            }
            window.CP.exitedLoop(3);
            initX = mouseX;
            e.preventDefault();
            if (Math.abs(transX) &gt;= curSlide.offsetWidth - 30) {
                document.removeEventListener('mousemove', slideMouseMove, false);
                document.removeEventListener('touchmove', slideMouseMove, false);
                curSlide.style.transition = 'ease 0.2s';
                curSlide.style.opacity = 0;
                prevSlide = curSlide;
                attachEvents(sliders[sliders.length - 2]);
                slideMouseUp();
                setTimeout(function () {
                    slider.insertBefore(prevSlide, slider.firstChild);
                    prevSlide.style.transition = 'none';
                    prevSlide.style.opacity = '1';
                    slideMouseUp();
                }, 201);
                return;
            }
        }

        function slideMouseUp() {
            transX = 0;
            rotZ = 0;
            transY = 0;
            curSlide.style.transition = 'cubic-bezier(0,1.95,.49,.73) ' + TRANS_DUR + 's';
            curSlide.style.webkitTransform = 'translateX(' + transX + 'px)' + 'rotateZ(' + rotZ + 'deg)' + ' translateY(' + transY + 'px)';
            curSlide.style.transform = 'translateX(' + transX + 'px)' + 'rotateZ(' + rotZ + 'deg)' + ' translateY(' + transY + 'px)';
            var j = 1;
            for (var i = sliders.length - 2; i &gt;= 0; i--) {
                sliders[i].style.transition = 'cubic-bezier(0,1.95,.49,.73) ' + TRANS_DUR / (j + 0.9) + 's';
                sliders[i].style.webkitTransform = 'translateX(' + transX + 'px)' + 'rotateZ(' + rotZ + 'deg)' + ' translateY(' + Y_DIS * j + 'px)' + ' translateZ(' + -Z_DIS * j + 'px)';
                sliders[i].style.transform = 'translateX(' + transX + 'px)' + 'rotateZ(' + rotZ + 'deg)' + ' translateY(' + Y_DIS * j + 'px)' + ' translateZ(' + -Z_DIS * j + 'px)';
                j++;
            }
            document.removeEventListener('mousemove', slideMouseMove, false);
            document.removeEventListener('touchmove', slideMouseMove, false);
        }
    }

